{% extends 'base.html' %}

{% load survey_tags %}


{% block head_title %}{{survey_name}}{% endblock head_title %}

{% block content %}
<div class="container">
    <div class="container pb-5">
        <h1>{{survey_name}}</h1>
        <p>{{survey_description}}</p>
    </div>
    <form action="" method="post">
        {% csrf_token %}
        <!-- extract key, value from dict -->
        <div class="container pb-3">
            <label for="id_patient"><h5>Numero Identificativo del Paziente:</h5></label>
            <input class="form-control" type="number" name="id_patient" id="id_patient" min="0" step="1" required>
        </div>
        <div class="container pb-5">
            <label for="filling_date"><h5>Data di Compilazione:</h5></label>
            <input class="form-control" type="date" name="filling_date" id="filling_date" required />
        </div>
        {% for question, answers in form.items %}
            <div class="container">
                <legend>{{question}}</legend>
                {% for answer_id, answer_sequence_number, answer_content in answers %}
                    <div class="form-check ">
                        <input class="form-check-input"
                         type="radio"
                         name="{{question}}"
                         id="{{question}}{{answer_sequence_number}}"
                         value="{{answer_id}}"
                         required>
                        <label class="form-check-label" for={{question}}{{answer_sequence_number}}>{{answer_sequence_number}} - {{answer_content}}</label>
                    </div>
                    <hr>
                {% endfor %}
            </div>
            {#% if {{question.question_subsequence_number}} == None %#}
                <br>
            {#% endif %#}
        {% endfor %}
        <input type="submit" class="btn btn-info" value="INVIA">
        <br><br><br>
    </form>
</div>
{% endblock content %}
